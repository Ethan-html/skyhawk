<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SiteData Manager</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h2 { margin-top: 30px; }
  .section { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; }
  .child { margin-left: 20px; padding: 10px; border: 1px dashed #aaa; margin-top: 10px; border-radius: 5px; }
  label { display: block; margin-top: 5px; }
  input, textarea { width: 100%; padding: 5px; margin-top: 2px; }
  button { margin-top: 10px; padding: 5px 10px; cursor: pointer; }
  textarea { height: 100px; }
</style>
</head>
<body>

<h1>SiteData Manager</h1>

<div id="siteDataContainer"></div>

<h2>Add New Section</h2>
<div class="section">
  <label>ID: <input type="text" id="newSectionId"></label>
  <label>Title: <input type="text" id="newSectionTitle"></label>
  <button onclick="addNewSection()">Add Section</button>
</div>

<h2>Export SiteData</h2>
<button onclick="exportJSON()">Copy JSON to Clipboard</button>
<button onclick="downloadJSON()">Download JSON File</button>

<script>
const siteData = [
  {
    id: "about",
    title: "About",
    children: [
      {
        title: "Civil Air Patrol",
        slug: "civil-air-patrol",
        content: `
          <div class="main-content-wrap nested-content-wrap"> 
          <div id="session-message-wrapper"> </div> 
          <h4><strong><img alt="Civil Air Patrol Logo" height="210" src="https://skyhawk.cap.gov/media/cms/NEW_CAP_Symbol_med_square_36EB454EB_31A1E7B47098C.png" style="float:left; margin-left:10px; margin-right:10px" width="210"></strong>Mission Statement&nbsp;</h4> <p>Supporting America's communities with emergency response, diverse aviation and ground services, youth development, and promotion of air, space and cyber power.&nbsp;</p> <p><span style="color:#000080"><strong>Vision Statement</strong></span><br> Civil&nbsp;Air Patrol, America's Air Force auxiliary, building the nation's finest force of citizen volunteers serving America.</p> <p><strong><span style="color:#000080">Core Values</span></strong><br> Integrity, Volunteer Service, Excellence&nbsp;and Respect.</p> <p><span style="color:#000080"><strong>More About CAP</strong></span><br> Since Civil Air Patrol’s formation during the earliest days of World War II, this vigilant organization of citizen Airmen has been committed to service to America. Founded on Dec. 1, 1941, to mobilize the nation's civilian aviation resources for national defense service, CAP has evolved into a premier public service organization that still carries out emergency service missions when needed — in the air and on the ground.</p> <p>Visit the national website for more information&nbsp;about the <a href="https://www.gocivilairpatrol.com/about/history-of-civil-air-patrol" target="_blank">History of Civil Air Patrol</a>.<br><em>(This link&nbsp;will open a new browser&nbsp;window&nbsp;outside the skyhawk.cap.gov domain.)</em></p> <hr> <p><img alt="Air Force Logo" height="100" src="https://skyhawk.cap.gov/media/cms/US_Air_Force_Logo_1D1F3CBA78AFC_D12408DCE853F.jpg" style="float:left; margin-left:10px; margin-right:10px" width="100"><span style="color:#000080"><strong>Total Force</strong>&nbsp;<strong>partner and Auxiliary of the U.S. Air Force</strong></span>, Civil Air Patrol is there to search for and find the lost, provide comfort in times of disaster and work to keep the homeland safe. Its 60,000 members selflessly devote their time, energy and expertise toward the well-being of their communities, while also promoting aviation and related fields through aerospace/STEM education and helping shape future leaders through CAP’s cadet program.</p> <p><br><strong>&nbsp;&nbsp;&nbsp;<a href="https://www.af.mil/News/Article-Display/Article/615251/civil-air-patrol-joins-total-force-airmen/" target="_blank">Total Force</a></strong><em>&nbsp;(This link&nbsp;will open a new browser&nbsp;window&nbsp;outside the CAP.GOV domain.)</em></p> <hr> <p>Civil Air Patrol’s missions for America are many, and today’s adults and cadets perform their duties with the same vigilance as its founding members — preserving CAP’s 75-year legacy of service while maintaining its commitment to nearly 1,500 communities nationwide.</p> <hr> <p>Today, CAP has grown to over 60,000 members across the nation, and is constantly striving to educate people in aerospace and emergency services to build a civilian task force to serve your community, state, and nation.&nbsp;&nbsp;</p> </div>
        `
      },
      {
        title: "Skyhawk Composite Squadron",
        slug: "skyhawk-composite-squadron",
        content: `
          <div class="main-content-wrap nested-content-wrap">
          <div id="session-message-wrapper">
          </div>
          <h2><img alt="" height="467" src="https://skyhawk.cap.gov/media/cms/278125808_4813580935419840_73656747_C8201EC2E84F7.jpg" width="700"></h2>
          <h2>Skyhawk Composite Squadron, Delano, Minnesota</h2>
          <p>The Skyhawk Composite Squadron was chartered in December of 2020 and has a complement of over 50 members, comprised of cadets age 12-20 and senior members age 18 and above. We are one of <a href="https://mnwg.cap.gov/unit-locations/" target="_blank">24 squadrons</a><a href="https://mnwg.cap.gov/unit-locations/" target="_blank"> that make up the Minnesota Wing</a>.&nbsp;<em>(This link&nbsp;will open a new browser&nbsp;window&nbsp;outside the skyhawk.cap.gov domain.)</em></p>
          <p>Our squadron is dedicated to educating our members about aerospace, emergency services, and leadership; giving them skills that they can apply to their everyday lives.&nbsp;</p>
          <p>Through their training, our cadets and senior members develop into mentors that can pass on what they have learned so that members coming in behind them may grow and become leaders.</p>
          <p>As a Squadron, we strive to continue to learn and grow so that we can continue to serve our community and train the leaders of tomorrow.</p>
          <hr>
          <p><span style="color:#000080"><strong>Location:</strong></span> We usually meet in the “Tiger’s Den” at Delano High School (700 Elm Ave. E, Delano, MN 55328). Members will be notified if we change the location for a meeting.&nbsp;<em>Occasional meetings are held at&nbsp;Brandt Airport,&nbsp;2561 72nd St SE, Delano, MN 55328.</em></p>
          <hr>
          <p><span style="color:#000080"><strong>Meeting Time:</strong></span>&nbsp;We meet every Monday, unless otherwise noted on the squadron Calendar, from 1850 (6:50 P.M.) to 2100 (9:00 P.M.). Formation begins promptly at 1900 (7:00 P.M.).</p>
          <hr>
          <p><span style="color:#000080"><strong>UOD:</strong></span> The Uniform of the Day varies by week and by activity, according to the training needs of the squadron. The UOD is sent out in the weekly update and is noted on the squadron Calendar.&nbsp;</p>
          <hr>
          <p><span style="color:#000080"><strong>Email:</strong></span> Emails are sent out weekly to all active members to keep the squadron informed on what is happening at the Squadron and Wing level.</p>
          <hr>
          <p><span style="color:#000080"><strong>Facebook:</strong></span> The squadron also maintains a Meta/Facebook page as an additional tool to keep the squadron informed and to help get the word out about Civil Air Patrol.<br>
            &nbsp;</p>
          <p dir="ltr">&nbsp;</p>
         </div>
        `
      },
      {
        title: "Staff",
        slug: "staff",
        content: `
          <div class="main-content-wrap nested-content-wrap">
          <div id="session-message-wrapper">
          </div>
          <p><a href="/cadet-duty-positions/"><strong>Cadet duty positions</strong></a> are filled through an application process&nbsp;on a rotating basis (3-12 month terms) depending on the position.<br>
            Click the above link for position descriptions and application instructions.</p>
          <p><img alt="" height="786" src="https://skyhawk.cap.gov/media/cms/OrgChart20250210_0A750E2FD1013.JPG" width="1000"></p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
         </div>
        `
      }
    ]
  },
  {
    id: "events",
    title: "Events",
    children: [
      {
        title: "Skyhawk Calendar",
        slug: "skyhawk-calendar",
        content: `
          <iframe src="https://calendar.google.com/calendar/embed?height=600&amp;wkst=1&amp;bgcolor=%23ffffff&amp;ctz=America%2FChicago&amp;src=c2t5aGF3ay5jYXAubW5AZ21haWwuY29t&amp;src=ZW4udXNhLm9mZmljaWFsI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&amp;color=%233F51B5&amp;color=%23616161" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no" data-ruffle-polyfilled=""></iframe>
        `
      },
      {
        title: "Mn Wing Calendar",
        slug: "mn-wing-calendar",
        externalUrl: "https://mnwg.cap.gov",
      },
      {
        title: "Encampment",
        slug: "encampment",
        externalUrl: "https://mncadets.cap.gov.production.premier.siteviz.com/encampment",
      },
      {
        title: "Ground Team Academy",
        slug: "ground-team-academy",
        externalUrl: "https://mnwg.cap.gov/programs/activities/ground-team-academy",
      },
      {
        title: "MN Leadership Academy",
        slug: "mn-leadership-academy",
        externalUrl: "https://mncadets.cap.gov.production.premier.siteviz.com/activities/mla/info",
      }
    ]
  },
  {
    id: "members",
    title: "Members",
    children: [
      {
        title: "Request Form: Absences and Promotion Requirements",
        slug: "request-and-absence-form",
        content: `
          <div id="session-message-wrapper">
          </div>
          <p>Please use the form below to submit requests for the following:</p>
          <ul>
           <li>Excused absences<br><strong>***or***</strong></li>
           <li>Final 4 tasks (<a href="/members/cp/cadet-promotions/" target="_blank">additional forms required</a>&nbsp;[oath, uniform, leadership expectations, active participation])</li>
           <li>Drill tests (<a href="/members/cp/cadet-promotions/#Drill" target="_blank">bring your forms</a>)</li>
           <li>Written exams (proctored tests)</li>
           <li>Oral presentations (speeches)--bring your evaluation forms with header information filled out</li>
           <li>Promotion Boards (<a href="/members/cp/cadet-promotions/#promotion-board" target="_blank">additional forms required</a>)</li>
          </ul>
          <p><strong>Absence notifications</strong> may be submitted at any time before the meeting in order to be excused.</p>
          <p><strong>Requests for promotion requirements must be submitted by 2359 on the Thursday</strong> before the Monday meeting.<br>
            Late submissions will be considered for the following meeting.</p>
          <p>You may submit multiple forms for different requests/dates.</p>
          <p>If you have any questions, please ask your chain of command (cadets) or the Deputy Commander for Cadets (parents).</p>
          <p><iframe frameborder="0" height="2371" marginheight="0" marginwidth="0" src="https://docs.google.com/forms/d/e/1FAIpQLScMyWh6v6jvMjUAtDNCjb3SlNtYnirnM9I6h3vSGvFnZ6ISBA/viewform?embedded=true" width="750" data-ruffle-polyfilled="">Loading&amp;amp;hellip;</iframe></p>
        `
      }
    ]
  },
  {
    id: "join",
    title: "Join",
    children: [
      {
        title: "How to Join",
        slug: "how-to-join",
        content: `
  <div class="main-content-column-nested w-col w-col-12 w-col-stack">
    <div class="main-content-wrap nested-content-wrap">
      <div id="session-message-wrapper"></div>
      <p>Before joining CAP, each potential member is required to attend a minimum of three meetings. We will discuss with you what the Civil Air Patrol Program is about and answer any questions that you may have. You will also have an opportunity to take a look at our facilities and observe squadron training and activities.</p>
      <p>If you would like to visit one of our meetings, or if you are interested in talking to one of us to learn more about the Civil Air Patrol Program and what we do at our squadron, please <a href="/page?page=contacts/">contact us</a>.</p>
      <hr>
      <h4><strong>Potential New Cadet (Youth) Members:</strong></h4>
      <p>(Youth ages 12-18) <a href="https://www.gocivilairpatrol.com/join/youth-in-cadet-program/how-to-join---cadet" target="_blank">Click here for information on how to join CAP as a Cadet (Youth) Member.</a></p>
      <p><a href="https://www.capnhq.gov/CAP.MembershipSystem.Web/CadetOnlineApp.aspx" target="_blank">Complete an Online Cadet Application</a> (requires Commander's approval).</p>
      <hr>
      <h4>Potential New Senior Members:</h4>
      <p>(Adults 18 years of age or older) <a href="https://www.gocivilairpatrol.com/join/active-adult-in-cap/active-adult" target="_blank"><strong>Click here for information on how to join CAP as a Senior Member.</strong></a></p>
      <hr>
      <p>You can learn more about the Civil Air Patrol Program at <a href="https://www.gocivilairpatrol.com/" target="_blank">www.gocivilairpatrol.com</a>.</p>
    </div>
  </div>
        `
      }
    ]
  },
  {
    id: "contacts",
    title: "contacts",
    children: [
      {
        title: "contacts",
        slug: "contacts",
        content: `
  <div class="inside-row-nested w-row">
        <div class="main-content-column-nested w-col w-col-12 w-col-stack">
         <div class="main-content-wrap nested-content-wrap">
          <div id="session-message-wrapper">
          </div>
          <h4>SKYHAWK COMPOSITE SQUADRON ADDRESS</h4>
          <p>700 Elm Ave E<br>
            Delano High School Tigers Den<br>
            Delano, MN 55328<br>
            &nbsp;</p>
          <p><em>Occasional meetings also held at&nbsp;Brandt Airport,&nbsp;2561 72nd St SE, Delano, MN 55328.</em></p>
          <hr>
          <p x-ms-format-detection="none">763-350-1587</p>
          <p>timhagen39@gmail.com</p>
          <hr>
          <h4>Susie's Sewing</h4>
          <p>Susie's Sewing (Sue Glover)</p>
          <p>Seamstress-Alterationist For Uniforms</p>
          <p>319 Kelsey Street</p>
          <p>Delano, MN 55328</p>
          <p>763-972-6541</p>
         </div>
        </div>
       </div>
        `
      }
    ]
  }

];

// Helper to render children
function renderChildren(children, parentIndex) {
  return children.map((child, childIndex) => {
    return `
      <div class="child">
        <strong>Child ${childIndex+1}</strong>
        <label>Title: <input value="${child.title}" onchange="updateChild(${parentIndex}, ${childIndex}, 'title', this.value)"></label>
        <label>Slug: <input value="${child.slug || ''}" onchange="updateChild(${parentIndex}, ${childIndex}, 'slug', this.value)"></label>
        <label>External URL: <input value="${child.externalUrl || ''}" onchange="updateChild(${parentIndex}, ${childIndex}, 'externalUrl', this.value)"></label>
        <label>Content: <textarea onchange="updateChild(${parentIndex}, ${childIndex}, 'content', this.value)">${child.content || ''}</textarea></label>
        <button onclick="removeChild(${parentIndex}, ${childIndex})">Remove Child</button>
      </div>
    `;
  }).join('');
}

// Render the entire siteData
function renderSiteData() {
  const container = document.getElementById('siteDataContainer');
  container.innerHTML = siteData.map((section, index) => {
    return `
      <div class="section">
        <strong>Section ${index+1}</strong>
        <label>ID: <input value="${section.id}" onchange="updateSection(${index}, 'id', this.value)"></label>
        <label>Title: <input value="${section.title}" onchange="updateSection(${index}, 'title', this.value)"></label>
        <button onclick="addChild(${index})">Add Child</button>
        ${renderChildren(section.children, index)}
        <button onclick="removeSection(${index})">Remove Section</button>
      </div>
    `;
  }).join('');
}

// Update section field
function updateSection(index, field, value) {
  siteData[index][field] = value;
}

// Update child field
function updateChild(sectionIndex, childIndex, field, value) {
  siteData[sectionIndex].children[childIndex][field] = value;
}

// Add new child
function addChild(sectionIndex) {
  siteData[sectionIndex].children.push({ title: '', slug: '', content: '', externalUrl: '' });
  renderSiteData();
}

// Remove child
function removeChild(sectionIndex, childIndex) {
  if (confirm('Are you sure you want to remove this child?')) {
    siteData[sectionIndex].children.splice(childIndex, 1);
    renderSiteData();
  }
}

// Add new section
function addNewSection() {
  const id = document.getElementById('newSectionId').value.trim();
  const title = document.getElementById('newSectionTitle').value.trim();
  if (!id || !title) { alert('ID and Title are required'); return; }
  siteData.push({ id, title, children: [] });
  document.getElementById('newSectionId').value = '';
  document.getElementById('newSectionTitle').value = '';
  renderSiteData();
}

// Remove section
function removeSection(index) {
  if (confirm('Are you sure you want to remove this section?')) {
    siteData.splice(index, 1);
    renderSiteData();
  }
}

// Export JSON to clipboard
function exportJSON() {
  const jsonStr = JSON.stringify(siteData, null, 2);
  navigator.clipboard.writeText(jsonStr).then(() => alert('siteData JSON copied to clipboard!'));
}

// Download JSON file
function downloadJSON() {
  const jsonStr = JSON.stringify(siteData, null, 2);
  const blob = new Blob([jsonStr], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'siteData.json';
  a.click();
  URL.revokeObjectURL(url);
}

// Initial render
renderSiteData();
</script>

</body>
</html>
