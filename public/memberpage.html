<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title></title>
      <link rel="icon" type="image/png" href="/media/website/skyhawks_logo_CAP_transparent.png">
      <link rel="stylesheet" href="assets/stylesheets/main.css">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://skyhawk.cap.gov/core/libraries/jquery/assets/3.3.1/jquery.min.js"></script>
      <script src="assets/js/main-3e47b52a9c95aa9cd957b34befd0acf5.min.js"></script>
      <script src="https://skyhawk.cap.gov/core/public/shared/assets/js/jquery.cycle2/2.1.6/jquery.cycle2-fef2f3645726cce4154911d6140d7d52.min.js"></script>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-M2RSE2BRK2"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-M2RSE2BRK2');
      </script>
      <script type="module">
        // ===============================
        // FIREBASE INITIALIZATION
        // ===============================
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

        import { initMenu } from "/assets/js/menu.js";
        import { initContentBoxes } from "/assets/js/content-boxes.js";
        import { initSlideshow } from "/assets/js/slideshow.js";
        import { initHeaderFooter } from "/assets/js/header-footer.js";
        import { initMemberMenu } from "/assets/js/member-menu.js";
        import { loadMemberPage, renderMemberPage } from "/assets/js/load-member-page.js";

        const firebaseConfig = {
          apiKey: "AIzaSyBk_ikYB1PzkgHx4zJY73pe3EfzQRpZvqw",
          authDomain: "skyhawk-web.firebaseapp.com",
          projectId: "skyhawk-web",
          storageBucket: "skyhawk-web.firebasestorage.app",
          messagingSenderId: "340655139001",
          appId: "1:340655139001:web:7923a1fe83ac4a4c689368",
          measurementId: "G-M2RSE2BRK2"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth();

        // ===============================
        // AUTH LOGOUT
        // ===============================
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn) {
          logoutBtn.addEventListener("click", async () => {
            try { await signOut(auth); window.location.replace("/"); }
            catch (err) { console.error("Logout failed:", err); }
          });
        }
        // ===============================
        // INIT
        // ===============================
        document.addEventListener("DOMContentLoaded", async () => {
          const sectionId = (new URLSearchParams(location.search).get("page") || "").split("/")[0];
          if (!sectionId) return;
          
          loadMemberPage(db, sectionId, renderMemberPage);
        });
        document.addEventListener("DOMContentLoaded", async () => {
          await Promise.all([
            initMenu(db),
            initMemberMenu(db),
            initHeaderFooter(db)
          ]);
        });
      </script>
      <script src="assets/js/admin.js"></script>
      <script src="assets/easter/boot.js" defer></script>
   </head>
    <body style="display:none;">
      <script type="module">
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
        const auth = getAuth();

        // HARD GATE — no content allowed until auth resolves
        onAuthStateChanged(auth, user => {
          if (!user) {
            // Not logged in → go home
            window.location.replace("/");
          } else {
            // Authenticated → allow page to render
            document.body.style.display = "block";
          }
        });
      </script>
      <div class="header-section">
        <div data-collapse="medium" data-animation="default" data-duration="400" class="nav-section w-nav">
          <div class="header-contents-wrap">
            <div class="header-container w-container">
              <div class="logo-container">
                <a href="/" class="logo w-clearfix w-nav-brand"> <img src="/assets/images/CAP-2017-logo-horizontal-optimized.png" alt="Skyhawk Composite Squadron" class="logo-image"> </a>
                <h2 class="website-tagline" id="unit-name"></h2>
              </div>
              <div class="header-content-right-wrap">
                <button class="donations-btn" id="logoutBtn">Log out</button>
                <div class="website-logo-container">
                  <img src="/media/website/skyhawks_logo_CAP_transparent.png" alt="Skyhawk Composite Squadron" class="website-logo">
                </div>
              </div>
            </div>
            <nav class="header-menu-wrap">
              <div class="header-menu-inside-wrap">
                <div class="nav-container w-container">
                  <nav class="desktop-navigation-menu">
                    <ul class="main-ul" id="main-menu"></ul>
                  </nav>
                  <nav class="mobile-navigation-menu" aria-hidden="true">
                    <ul id="mobile-menu-root"></ul>
                  </nav>
                  <div class="menu-button w-clearfix w-nav-button mobile-menu-button">
                    <div class="menu-button-icon w-icon-nav-menu"></div>
                    <div class="menu-button-text">Menu</div>
                  </div>
                </div>
              </div>
            </nav>
            <div class="menu-divider"></div>
            <nav class="header-menu-wrap">
              <div class="header-menu-inside-wrap">
                <div class="nav-container w-container">
                  <nav class="desktop-navigation-menu">
                    <ul class="main-ul" id="member-menu"></ul>
                  </nav>
                  <div class="noMobile" style="display: none;">This Menu is Temporary Unavailable</div>
                </div>
              </div>
            </nav>
          </div>
          <div class="w-nav-overlay" data-wf-ignore=""></div>
        </div>
      </div>
      <div id="page">
        <div class="inside-content-section section-wrap">
          <div class="inside-content-beckground">
            <div class="inside-row w-row">
              <!-- LEFT NAV -->
              <div class="left-nav-column w-col w-col-3 w-col-stack w-hidden-medium w-hidden-small w-hidden-tiny">
                <div class="left-nav-list-content-wrap">
                  <h2 class="section-title">
                    <a id="sideNavTitleLink"></a>
                  </h2>
                  <nav>
                    <ul id="sideNavList" class="left-nav-list w-list-unstyled"></ul>
                  </nav>
                </div>
              </div>
              <!-- MAIN CONTENT -->
              <div class="main-content-column w-col w-col-9 w-col-stack">
                <!-- BREADCRUMBS -->
                <div class="inside-page-header-content-wrap">
                  <nav>
                    <ol id="breadcrumbList" class="breadcrumb-list w-clearfix w-list-unstyled"></ol>
                  </nav>
                </div>
                <!-- PAGE TITLE -->
                <div class="landing-page-title-wrapper">
                  <h1 id="pageTitle" class="h1-heading"></h1>
                </div>
                <!-- PAGE CONTENT -->
                <div class="inside-row-nested w-row">
                  <div class="main-content-column-nested w-col w-col-12 w-col-stack">
                    <div id="pageContent" class="main-content-wrap nested-content-wrap"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-section">
        <div class="middle-footer-div">
          <div class="footer-container">
            <div class="footer-row row">
              <div class="_1 footer-column-wrap">
                <h4 class="footer-column-title">Address</h4>
                <p id="address" class="footer-paragraph"></p>
                <p class="footer-paragraph" x-ms-format-detection="none"><span id="phone"></span></p>
                <p id="email" class="footer-paragraph"></p>
              </div>
              <div class="_3 footer-column-wrap">
                <h4 class="footer-column-title">Mission Statement</h4>
                <div class="footer-paragraph">
                  Volunteers serving America's communities, saving lives, and shaping futures.
                </div>
              </div>
              <div class="_2 footer-column-wrap">
                <h4 class="footer-column-title">Quick Links</h4>
                <ul id="footer-quick-links" class="footer-links-list w-list-unstyled"></ul>
              </div>
            </div>
          </div>
          <div class="container footer w-container"></div>
          <div class="footer-signoff-section">
            <div class="bottom-footer-container">
              <div class="footer-signoff-row row w-row">
                <div class="column w-col w-col-9 w-col-stack">
                  <div id="copyright-text" class="copyright-text"></div>
                  <ul class="footer-signoff-list w-list-unstyled">
                    <li class="footer-signoff-list-item"><a href="https://get.adobe.com/reader/" target="_blank" rel="noopener" class="footer-link">Get Adobe Acrobat Reader</a></li>
                    <li class="footer-signoff-list-item"><a href="https://www.gocivilairpatrol.com/legal-privacy-statement" target="_blank" rel="noopener" class="footer-link">Legal &amp; Privacy Statement</a></li>
                  </ul>
                </div>
                <div class="devby column w-clearfix w-col w-col-3 w-col-stack">
                  <div class="footer-signoff-grip w-inline-block">
                    <div id="GRIPFooterLogo" style="padding-top: 10px;">
                      <span id="GRIPFooterLogoText" style="color: #919293; font-size: 10px; font-family: Arial, sans-serif; text-transform: uppercase; display: block; text-align: left; font-weight: 700; letter-spacing: 0.02rem;">
                        WEB DEVELOPMENT BY <a href="" target="_blank" rel="noopener noreferrer" style="color: #919293; text-decoration: underline;">ETHAN LARSON</a>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
   </body>
</html>